[2022-11-26 03:05:07.479434] Begin to replay trace traces/trace_lh_80_90.txt
[2022-11-26 03:05:07.479489] >>> [0.000] next_event: add at 0
[2022-11-26 03:05:07.479512] >>> [0.000]      node to be add: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
[2022-11-26 03:05:07.480512] >>> [0.001] nnodes: 18, message: 
[2022-11-26 03:05:07.480577]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
[2022-11-26 03:05:07.480596] >>> [0.001] next_event: no-op at 60000
Container nvidia build = 
Warning! /hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ directory missing. Training cannot start
/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/
/home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json
Logs written to /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/bert_lamb_pretraining.pyt_bert_pretraining_phase1_fp16_gbs1024.log
+ '[' -z /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/bert_lamb_pretraining.pyt_bert_pretraining_phase1_fp16_gbs1024.log ']'
+ tee /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/bert_lamb_pretraining.pyt_bert_pretraining_phase1_fp16_gbs1024.log
+ /opt/conda/envs/varuna/bin/python -m varuna.run_varuna --profile_folder s3://spot-checkpoints/bert-profile --batch_size 1024 --chunk_size 8 --gpus_per_node 1 --machine_list /home/ubuntu/varuna/aws/hosts/available_machines.out /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna
reachable machines: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
/opt/conda/envs/varuna/bin/python -m varuna.morph_server /home/ubuntu/varuna/aws/hosts/available_machines.out /home/ubuntu/varuna/aws/hosts/varuna_current_machines 4200  > varuna_morph.out 2>varuna_morph.err &
/opt/conda/envs/varuna/bin/python -m varuna.catch_all /home/ubuntu/varuna/aws/hosts/varuna_current_machines 5000  > varuna_catch.out 2>varuna_catch.err &
ssh ubuntu@172.31.28.108 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 0 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.20.223 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 1 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.18.152 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 2 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.27.216 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 3 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.24.208 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 4 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.30.99 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 5 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.16.100 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 6 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.22.229 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 7 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.22.165 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 8 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.31.40 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 9 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.19.171 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 10 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.17.44 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 11 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.28.236 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 12 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.45 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 13 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.109 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 14 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.19.112 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 15 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.254 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 16 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.24.191 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 17 --nservers 18 --master_addr 172.31.28.108 --batch_size 1024 --chunk_size 8 --code_dir /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT --profile_folder s3://spot-checkpoints/bert-profile /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/run_pretraining.py --input_dir=/hdf5_lower_case_1_seq_len_128_max_pred_20_masked_lm_prob_0.15_random_seed_12345_dupe_factor_5/wikicorpus_en/ --output_dir=s3://spot-checkpoints/bert --config_file=bert_config.json --bert_model=bert-large-uncased --train_batch_size=1024 --max_seq_length=128 --max_predictions_per_seq=20 --max_steps=7038 --warmup_proportion=0.2843 --num_steps_per_checkpoint=200 --learning_rate=6e-3 --seed=12439 --fp16 --gradient_accumulation_steps=128 --allreduce_post_accumulation --allreduce_post_accumulation_fp16 --do_train --json-summary /home/ubuntu/varuna_examples/DeepLearningExamples/PyTorch/LanguageModeling/BERT/results/dllogger.json --varuna" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
+ set +x
finished pretraining
[2022-11-26 03:06:07.538332] >>> [60.059] nnodes: 18, no morph
[2022-11-26 03:06:07.538398] >>> [60.059] next_event: no-op at 120000
[2022-11-26 03:07:07.538327] >>> [120.059] nnodes: 18, no morph
[2022-11-26 03:07:07.538415] >>> [120.059] next_event: no-op at 180000
[2022-11-26 03:08:07.539443] >>> [180.060] nnodes: 18, no morph
[2022-11-26 03:08:07.539513] >>> [180.060] next_event: add at 240000
[2022-11-26 03:09:07.486669] >>> [240.007]      node to be add: ['172.31.16.5', '172.31.30.133']
[2022-11-26 03:09:07.487529] >>> [240.008] nnodes: 20, message: morph
[2022-11-26 03:09:07.487591]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-26 03:09:07.487625] >>> [240.008] next_event: no-op at 300000
[2022-11-26 03:10:07.496917] >>> [300.017] nnodes: 20, no morph
[2022-11-26 03:10:07.496968] >>> [300.018] next_event: add at 360000
[2022-11-26 03:11:07.538326] >>> [360.059]      node to be add: ['172.31.23.137']
[2022-11-26 03:11:07.538978] >>> [360.060] nnodes: 21, message: morph
[2022-11-26 03:11:07.539038]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137']
[2022-11-26 03:11:07.539057] >>> [360.060] next_event: add at 420000
[2022-11-26 03:12:07.538354] >>> [420.059]      node to be add: ['172.31.21.137']
[2022-11-26 03:12:07.538903] >>> [420.059] nnodes: 22, message: morph
[2022-11-26 03:12:07.538948]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137']
[2022-11-26 03:12:07.538968] >>> [420.060] next_event: no-op at 480000
[2022-11-26 03:13:07.539450] >>> [480.060] nnodes: 22, no morph
[2022-11-26 03:13:07.539509] >>> [480.060] next_event: no-op at 540000
[2022-11-26 03:14:07.518165] >>> [540.039] nnodes: 22, no morph
[2022-11-26 03:14:07.518225] >>> [540.039] next_event: add at 600000
[2022-11-26 03:15:07.505307] >>> [600.026]      node to be add: ['172.31.26.140']
[2022-11-26 03:15:07.505946] >>> [600.027] nnodes: 23, message: morph
[2022-11-26 03:15:07.505994]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140']
[2022-11-26 03:15:07.506017] >>> [600.027] next_event: add at 660000
[2022-11-26 03:16:07.539471] >>> [660.060]      node to be add: ['172.31.28.143']
[2022-11-26 03:16:07.539922] >>> [660.060] nnodes: 24, message: morph
[2022-11-26 03:16:07.539960]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-26 03:16:07.539980] >>> [660.061] next_event: no-op at 720000
[2022-11-26 03:17:07.503142] >>> [720.024] nnodes: 24, no morph
[2022-11-26 03:17:07.503210] >>> [720.024] next_event: no-op at 780000
[2022-11-26 03:18:07.539475] >>> [780.060] nnodes: 24, no morph
[2022-11-26 03:18:07.539534] >>> [780.060] next_event: no-op at 840000
[2022-11-26 03:19:07.538326] >>> [840.059] nnodes: 24, no morph
[2022-11-26 03:19:07.538389] >>> [840.059] next_event: remove at 900000
[2022-11-26 03:19:37.507066] >>> [870.028]      node to be remove: ['172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208']
[2022-11-26 03:19:37.507566] >>> [870.028] nnodes: 20, message: preempt 870.0279352664948
[2022-11-26 03:19:37.507612]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.229', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-26 03:20:07.494345] >>> [900.015] Remove node 172.31.31.40, CMD: ssh -q ubuntu@172.31.31.40 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:20:07.496048] >>> [900.017] Remove node 172.31.16.100, CMD: ssh -q ubuntu@172.31.16.100 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:20:07.497373] >>> [900.018] Remove node 172.31.19.171, CMD: ssh -q ubuntu@172.31.19.171 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:20:07.498679] >>> [900.019] Remove node 172.31.24.208, CMD: ssh -q ubuntu@172.31.24.208 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:20:07.500040] >>> [900.021] next_event: no-op at 960000
[2022-11-26 03:21:07.538363] >>> [960.059] nnodes: 20, no morph
[2022-11-26 03:21:07.538465] >>> [960.059] next_event: remove at 1020000
[2022-11-26 03:21:37.509458] >>> [990.030]      node to be remove: ['172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-26 03:21:37.509964] >>> [990.031] nnodes: 16, message: preempt 990.0303430557251
[2022-11-26 03:21:37.510004]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.229', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-26 03:22:07.509470] >>> [1020.030] Remove node 172.31.19.112, CMD: ssh -q ubuntu@172.31.19.112 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:22:07.511210] >>> [1020.032] Remove node 172.31.24.191, CMD: ssh -q ubuntu@172.31.24.191 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:22:07.512477] >>> [1020.033] Remove node 172.31.16.5, CMD: ssh -q ubuntu@172.31.16.5 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:22:07.513756] >>> [1020.034] Remove node 172.31.30.133, CMD: ssh -q ubuntu@172.31.30.133 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:22:07.515172] >>> [1020.036] next_event: no-op at 1080000
[2022-11-26 03:23:07.539475] >>> [1080.060] nnodes: 16, no morph
[2022-11-26 03:23:07.539535] >>> [1080.060] next_event: remove at 1140000
[2022-11-26 03:23:37.509456] >>> [1110.030]      node to be remove: ['172.31.22.229', '172.31.21.137']
[2022-11-26 03:23:37.509969] >>> [1110.031] nnodes: 14, message: preempt 1110.030345916748
[2022-11-26 03:23:37.510006]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.26.140', '172.31.28.143']
[2022-11-26 03:24:07.509477] >>> [1140.030] Remove node 172.31.22.229, CMD: ssh -q ubuntu@172.31.22.229 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:24:07.511135] >>> [1140.032] Remove node 172.31.21.137, CMD: ssh -q ubuntu@172.31.21.137 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:24:07.512340] >>> [1140.033] next_event: no-op at 1200000
[2022-11-26 03:25:07.518290] >>> [1200.039] nnodes: 14, no morph
[2022-11-26 03:25:07.518379] >>> [1200.039] next_event: remove at 1260000
[2022-11-26 03:25:37.506392] >>> [1230.027]      node to be remove: ['172.31.30.99', '172.31.17.44']
[2022-11-26 03:25:37.507262] >>> [1230.028] nnodes: 12, message: preempt 1230.027487039566
[2022-11-26 03:25:37.507323]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.26.140', '172.31.28.143']
[2022-11-26 03:26:07.509484] >>> [1260.030] Remove node 172.31.30.99, CMD: ssh -q ubuntu@172.31.30.99 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:26:07.511215] >>> [1260.032] Remove node 172.31.17.44, CMD: ssh -q ubuntu@172.31.17.44 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:26:07.512474] >>> [1260.033] next_event: no-op at 1320000
[2022-11-26 03:27:07.487221] >>> [1320.008] nnodes: 12, no morph
[2022-11-26 03:27:07.487278] >>> [1320.008] next_event: remove at 1380000
[2022-11-26 03:27:37.492604] >>> [1350.013]      node to be remove: ['172.31.26.140']
[2022-11-26 03:27:37.493157] >>> [1350.014] nnodes: 11, message: preempt 1350.0135414600372
[2022-11-26 03:27:37.493194]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143']
[2022-11-26 03:28:07.509493] >>> [1380.030] Remove node 172.31.26.140, CMD: ssh -q ubuntu@172.31.26.140 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:28:07.511170] >>> [1380.032] next_event: no-op at 1440000
[2022-11-26 03:29:07.539490] >>> [1440.060] nnodes: 11, no morph
[2022-11-26 03:29:07.539551] >>> [1440.060] next_event: no-op at 1500000
[2022-11-26 03:30:07.538318] >>> [1500.059] nnodes: 11, no morph
[2022-11-26 03:30:07.538367] >>> [1500.059] next_event: add at 1560000
[2022-11-26 03:31:07.504411] >>> [1560.025]      node to be add: ['172.31.31.40']
[2022-11-26 03:31:07.505030] >>> [1560.026] nnodes: 12, message: morph
[2022-11-26 03:31:07.505075]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40']
[2022-11-26 03:31:07.505100] >>> [1560.026] next_event: add at 1620000
[2022-11-26 03:32:07.482129] >>> [1620.003]      node to be add: ['172.31.16.100']
[2022-11-26 03:32:07.482724] >>> [1620.003] nnodes: 13, message: morph
[2022-11-26 03:32:07.482771]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100']
[2022-11-26 03:32:07.482798] >>> [1620.003] next_event: no-op at 1680000
[2022-11-26 03:33:07.538317] >>> [1680.059] nnodes: 13, no morph
[2022-11-26 03:33:07.538371] >>> [1680.059] next_event: remove at 1740000
[2022-11-26 03:33:37.483047] >>> [1710.004]      node to be remove: ['172.31.18.152']
[2022-11-26 03:33:37.483432] >>> [1710.004] nnodes: 12, message: preempt 1710.0038619041443
[2022-11-26 03:33:37.483466]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100']
[2022-11-26 03:34:07.509494] >>> [1740.030] Remove node 172.31.18.152, CMD: ssh -q ubuntu@172.31.18.152 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:34:07.511159] >>> [1740.032] next_event: add at 1800000
[2022-11-26 03:35:07.538360] >>> [1800.059]      node to be add: ['172.31.19.171']
[2022-11-26 03:35:07.538967] >>> [1800.060] nnodes: 13, message: morph
[2022-11-26 03:35:07.539016]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171']
[2022-11-26 03:35:07.539041] >>> [1800.060] next_event: no-op at 1860000
[2022-11-26 03:36:07.539443] >>> [1860.060] nnodes: 13, no morph
[2022-11-26 03:36:07.539489] >>> [1860.060] next_event: no-op at 1920000
[2022-11-26 03:37:07.539451] >>> [1920.060] nnodes: 13, no morph
[2022-11-26 03:37:07.539512] >>> [1920.060] next_event: no-op at 1980000
[2022-11-26 03:38:07.538536] >>> [1980.059] nnodes: 13, no morph
[2022-11-26 03:38:07.538665] >>> [1980.059] next_event: add at 2040000
[2022-11-26 03:39:07.538337] >>> [2040.059]      node to be add: ['172.31.24.208']
[2022-11-26 03:39:07.538918] >>> [2040.059] nnodes: 14, message: morph
[2022-11-26 03:39:07.538964]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208']
[2022-11-26 03:39:07.538988] >>> [2040.060] next_event: no-op at 2100000
[2022-11-26 03:40:07.538319] >>> [2100.059] nnodes: 14, no morph
[2022-11-26 03:40:07.538366] >>> [2100.059] next_event: add at 2160000
[2022-11-26 03:41:07.538338] >>> [2160.059]      node to be add: ['172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-26 03:41:07.538821] >>> [2160.059] nnodes: 18, message: morph
[2022-11-26 03:41:07.538867]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-26 03:41:07.538889] >>> [2160.059] next_event: no-op at 2220000
[2022-11-26 03:42:07.535807] >>> [2220.056] nnodes: 18, no morph
[2022-11-26 03:42:07.535856] >>> [2220.056] next_event: no-op at 2280000
[2022-11-26 03:43:07.538316] >>> [2280.059] nnodes: 18, no morph
[2022-11-26 03:43:07.538368] >>> [2280.059] next_event: add at 2340000
[2022-11-26 03:44:07.538410] >>> [2340.059]      node to be add: ['172.31.22.229']
[2022-11-26 03:44:07.539110] >>> [2340.060] nnodes: 19, message: morph
[2022-11-26 03:44:07.539154]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.22.229']
[2022-11-26 03:44:07.539187] >>> [2340.060] next_event: no-op at 2400000
[2022-11-26 03:45:07.497131] >>> [2400.018] nnodes: 19, no morph
[2022-11-26 03:45:07.497178] >>> [2400.018] next_event: no-op at 2460000
[2022-11-26 03:46:07.530460] >>> [2460.051] nnodes: 19, no morph
[2022-11-26 03:46:07.530515] >>> [2460.051] next_event: remove at 2520000
[2022-11-26 03:46:37.506706] >>> [2490.027]      node to be remove: ['172.31.16.5', '172.31.28.143', '172.31.27.216']
[2022-11-26 03:46:37.507725] >>> [2490.028] nnodes: 16, message: preempt 2490.027936697006
[2022-11-26 03:46:37.507793]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229']
[2022-11-26 03:47:07.509478] >>> [2520.030] Remove node 172.31.16.5, CMD: ssh -q ubuntu@172.31.16.5 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:47:07.511139] >>> [2520.032] Remove node 172.31.28.143, CMD: ssh -q ubuntu@172.31.28.143 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:47:07.512366] >>> [2520.033] Remove node 172.31.27.216, CMD: ssh -q ubuntu@172.31.27.216 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:47:07.513658] >>> [2520.034] next_event: no-op at 2580000
[2022-11-26 03:48:07.487720] >>> [2580.008] nnodes: 16, no morph
[2022-11-26 03:48:07.487786] >>> [2580.008] next_event: remove at 2640000
[2022-11-26 03:48:37.506361] >>> [2610.027]      node to be remove: ['172.31.21.45']
[2022-11-26 03:48:37.507111] >>> [2610.028] nnodes: 15, message: preempt 2610.027401447296
[2022-11-26 03:48:37.507171]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229']
[2022-11-26 03:49:07.509483] >>> [2640.030] Remove node 172.31.21.45, CMD: ssh -q ubuntu@172.31.21.45 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-26 03:49:07.511167] >>> [2640.032] next_event: no-op at 2700000
[2022-11-26 03:50:07.484059] >>> [2700.005] nnodes: 15, no morph
[2022-11-26 03:50:07.484121] >>> [2700.005] next_event: no-op at 2760000
[2022-11-26 03:51:07.538341] >>> [2760.059] nnodes: 15, no morph
[2022-11-26 03:51:07.538423] >>> [2760.059] next_event: add at 2820000
[2022-11-26 03:52:07.538392] >>> [2820.059]      node to be add: ['172.31.21.137', '172.31.30.99']
[2022-11-26 03:52:07.539112] >>> [2820.060] nnodes: 17, message: morph
[2022-11-26 03:52:07.539164]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229', '172.31.21.137', '172.31.30.99']
[2022-11-26 03:52:07.539185] >>> [2820.060] next_event: no-op at 2880000
[2022-11-26 03:53:07.538326] >>> [2880.059] nnodes: 17, no morph
[2022-11-26 03:53:07.538384] >>> [2880.059] next_event: no-op at 2940000
[2022-11-26 03:54:07.505737] >>> [2940.026] nnodes: 17, no morph
[2022-11-26 03:55:07.538851] >>> [3000.059] nnodes: 17, message: preempt 3000.059143781662
[2022-11-26 03:55:07.538954]           Finally kill all
