[2022-11-28 09:45:08.945480] Begin to replay trace traces/trace_lh_80_90_complete.txt
[2022-11-28 09:45:08.945533] >>> [0.000] next_event: add at 0
[2022-11-28 09:45:08.945557] >>> [0.000]      node to be add: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
[2022-11-28 09:45:08.946551] >>> [0.001] nnodes: 18, message: 
[2022-11-28 09:45:08.946626]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
[2022-11-28 09:45:08.946663] >>> [0.001] next_event: no-op at 60000
/opt/conda/envs/varuna/bin/python -m varuna.run_varuna --batch_size 64 --chunk_size 1 --gpus_per_node 1 --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 --machine_list /home/ubuntu/varuna/aws/hosts/available_machines.out pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16 2>&1 | tee log/log.log
reachable machines: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191']
/opt/conda/envs/varuna/bin/python -m varuna.morph_server /home/ubuntu/varuna/aws/hosts/available_machines.out /home/ubuntu/varuna/aws/hosts/varuna_current_machines 4200  > varuna_morph.out 2>varuna_morph.err &
/opt/conda/envs/varuna/bin/python -m varuna.catch_all /home/ubuntu/varuna/aws/hosts/varuna_current_machines 5000  > varuna_catch.out 2>varuna_catch.err &
ssh ubuntu@172.31.28.108 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 0 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.20.223 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 1 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.18.152 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 2 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.27.216 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 3 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.24.208 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 4 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.30.99 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 5 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.16.100 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 6 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.22.229 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 7 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.22.165 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 8 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.31.40 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 9 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.19.171 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 10 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.17.44 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 11 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.28.236 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 12 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.45 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 13 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.109 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 14 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.19.112 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 15 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.21.254 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 16 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
ssh ubuntu@172.31.24.191 echo "/opt/conda/envs/varuna/bin/python  -u -m varuna.launcher --ngpus_per_server 1   --node_rank 17 --nservers 18 --master_addr 172.31.28.108 --batch_size 64 --chunk_size 1 --code_dir /home/ubuntu/varuna_examples/Megatron-LM --profile_folder s3://spot-checkpoints/gpt-n32-d4096-h32 pretrain_gpt2.py --num-layers 32 --hidden-size 4096 --num-attention-heads 32 --seq-length 1024 --max-position-embeddings 1024 --train-iters 18750 --lr-decay-iters 18750 --save s3://spot-checkpoints/gpt --load s3://spot-checkpoints/gpt --vocab-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/vocab.json --merge-file /home/ubuntu/SpotDL-DeesSpeed/megatron/Megatron-LM-v1.1.5-3D_parallelism/data/gpt2/merges.txt --data-impl mmap --split 949,50,1 --distributed-backend gloo --lr 0.00015 --min-lr 1.0e-5 --lr-decay-style cosine --weight-decay 1e-2 --clip-grad 1.0 --warmup .01 --log-interval 1 --exit-interval 10000 --save-interval 500 --eval-interval 10000 --use-cpu-initialization --synthetic --eval-iters 10 --varuna --fp16" > launch_varuna.sh;  VARUNA_MANAGER_IP=172.31.28.108 VARUNA_MORPH_PORT=4200 VARUNA_HEARTBEAT_PORT=5000 PYTHONPATH=/home/ubuntu/varuna:$PYTHONPATH  bash launch_varuna.sh
[2022-11-28 09:46:09.005571] >>> [60.060] nnodes: 18, no morph
[2022-11-28 09:46:09.005638] >>> [60.060] next_event: no-op at 120000
[2022-11-28 09:47:09.003254] >>> [120.058] nnodes: 18, no morph
[2022-11-28 09:47:09.003357] >>> [120.058] next_event: no-op at 180000
[2022-11-28 09:48:09.004053] >>> [180.059] nnodes: 18, no morph
[2022-11-28 09:48:09.004143] >>> [180.059] next_event: no-op at 240000
[2022-11-28 09:49:09.003262] >>> [240.058] nnodes: 18, no morph
[2022-11-28 09:49:09.003358] >>> [240.058] next_event: no-op at 300000
[2022-11-28 09:50:09.003285] >>> [300.058] nnodes: 18, no morph
[2022-11-28 09:50:09.003383] >>> [300.058] next_event: no-op at 360000
[2022-11-28 09:51:09.003258] >>> [360.058] nnodes: 18, no morph
[2022-11-28 09:51:09.003348] >>> [360.058] next_event: no-op at 420000
[2022-11-28 09:52:09.003231] >>> [420.058] nnodes: 18, no morph
[2022-11-28 09:52:09.003284] >>> [420.058] next_event: no-op at 480000
[2022-11-28 09:53:09.005526] >>> [480.060] nnodes: 18, no morph
[2022-11-28 09:53:09.005618] >>> [480.060] next_event: add at 540000
[2022-11-28 09:54:08.961644] >>> [540.016]      node to be add: ['172.31.16.5', '172.31.30.133']
[2022-11-28 09:54:08.962565] >>> [540.017] nnodes: 20, message: morph
[2022-11-28 09:54:08.962619]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-28 09:54:08.962655] >>> [540.017] next_event: no-op at 600000
[2022-11-28 09:55:09.005570] >>> [600.060] nnodes: 20, no morph
[2022-11-28 09:55:09.005646] >>> [600.060] next_event: add at 660000
[2022-11-28 09:56:09.005506] >>> [660.060]      node to be add: ['172.31.23.137']
[2022-11-28 09:56:09.005976] >>> [660.060] nnodes: 21, message: morph
[2022-11-28 09:56:09.006011]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137']
[2022-11-28 09:56:09.006031] >>> [660.061] next_event: add at 720000
[2022-11-28 09:57:09.003258] >>> [720.058]      node to be add: ['172.31.21.137']
[2022-11-28 09:57:09.003814] >>> [720.058] nnodes: 22, message: morph
[2022-11-28 09:57:09.003865]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137']
[2022-11-28 09:57:09.003889] >>> [720.058] next_event: no-op at 780000
[2022-11-28 09:58:08.946906] >>> [780.001] nnodes: 22, no morph
[2022-11-28 09:58:08.946967] >>> [780.001] next_event: no-op at 840000
[2022-11-28 09:59:08.975289] >>> [840.030] nnodes: 22, no morph
[2022-11-28 09:59:08.975367] >>> [840.030] next_event: add at 900000
[2022-11-28 10:00:09.003251] >>> [900.058]      node to be add: ['172.31.26.140']
[2022-11-28 10:00:09.003794] >>> [900.058] nnodes: 23, message: morph
[2022-11-28 10:00:09.003840]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140']
[2022-11-28 10:00:09.003867] >>> [900.058] next_event: add at 960000
[2022-11-28 10:01:09.005509] >>> [960.060]      node to be add: ['172.31.28.143']
[2022-11-28 10:01:09.005992] >>> [960.061] nnodes: 24, message: morph
[2022-11-28 10:01:09.006040]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.24.208', '172.31.30.99', '172.31.16.100', '172.31.22.229', '172.31.22.165', '172.31.31.40', '172.31.19.171', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-28 10:01:09.006069] >>> [960.061] next_event: no-op at 1020000
[2022-11-28 10:02:09.005535] >>> [1020.060] nnodes: 24, no morph
[2022-11-28 10:02:09.005623] >>> [1020.060] next_event: no-op at 1080000
[2022-11-28 10:03:08.991600] >>> [1080.046] nnodes: 24, no morph
[2022-11-28 10:03:08.991660] >>> [1080.046] next_event: no-op at 1140000
[2022-11-28 10:04:08.952702] >>> [1140.007] nnodes: 24, no morph
[2022-11-28 10:04:08.952762] >>> [1140.007] next_event: remove at 1200000
[2022-11-28 10:04:38.975539] >>> [1170.030]      node to be remove: ['172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208']
[2022-11-28 10:04:38.975966] >>> [1170.030] nnodes: 20, message: preempt 1170.0303468704224
[2022-11-28 10:04:38.976001]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.229', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.19.112', '172.31.21.254', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-28 10:05:08.975255] >>> [1200.030] Remove node 172.31.31.40, CMD: ssh -q ubuntu@172.31.31.40 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:05:08.977137] >>> [1200.032] Remove node 172.31.16.100, CMD: ssh -q ubuntu@172.31.16.100 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:05:08.979407] >>> [1200.034] Remove node 172.31.19.171, CMD: ssh -q ubuntu@172.31.19.171 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:05:08.980899] >>> [1200.035] Remove node 172.31.24.208, CMD: ssh -q ubuntu@172.31.24.208 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:05:08.982766] >>> [1200.037] next_event: no-op at 1260000
[2022-11-28 10:06:09.005526] >>> [1260.060] nnodes: 20, no morph
[2022-11-28 10:06:09.005588] >>> [1260.060] next_event: remove at 1320000
[2022-11-28 10:06:38.975264] >>> [1290.030]      node to be remove: ['172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-28 10:06:38.975862] >>> [1290.030] nnodes: 16, message: preempt 1290.0301427841187
[2022-11-28 10:06:38.975914]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.229', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.21.137', '172.31.26.140', '172.31.28.143']
[2022-11-28 10:07:08.975536] >>> [1320.030] Remove node 172.31.19.112, CMD: ssh -q ubuntu@172.31.19.112 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:07:08.977228] >>> [1320.032] Remove node 172.31.24.191, CMD: ssh -q ubuntu@172.31.24.191 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:07:08.978617] >>> [1320.033] Remove node 172.31.16.5, CMD: ssh -q ubuntu@172.31.16.5 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:07:08.980197] >>> [1320.035] Remove node 172.31.30.133, CMD: ssh -q ubuntu@172.31.30.133 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:07:08.982070] >>> [1320.037] next_event: no-op at 1380000
[2022-11-28 10:08:09.005521] >>> [1380.060] nnodes: 16, no morph
[2022-11-28 10:08:09.005584] >>> [1380.060] next_event: remove at 1440000
[2022-11-28 10:08:38.975287] >>> [1410.030]      node to be remove: ['172.31.22.229', '172.31.21.137']
[2022-11-28 10:08:38.976025] >>> [1410.031] nnodes: 14, message: preempt 1410.0302481651306
[2022-11-28 10:08:38.976073]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.30.99', '172.31.22.165', '172.31.17.44', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.26.140', '172.31.28.143']
[2022-11-28 10:09:08.972785] >>> [1440.027] Remove node 172.31.22.229, CMD: ssh -q ubuntu@172.31.22.229 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:09:08.974480] >>> [1440.029] Remove node 172.31.21.137, CMD: ssh -q ubuntu@172.31.21.137 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:09:08.975759] >>> [1440.030] next_event: no-op at 1500000
[2022-11-28 10:10:09.003271] >>> [1500.058] nnodes: 14, no morph
[2022-11-28 10:10:09.003328] >>> [1500.058] next_event: remove at 1560000
[2022-11-28 10:10:38.959263] >>> [1530.014]      node to be remove: ['172.31.30.99', '172.31.17.44']
[2022-11-28 10:10:38.959820] >>> [1530.014] nnodes: 12, message: preempt 1530.0141406059265
[2022-11-28 10:10:38.959859]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.26.140', '172.31.28.143']
[2022-11-28 10:11:08.975550] >>> [1560.030] Remove node 172.31.30.99, CMD: ssh -q ubuntu@172.31.30.99 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:11:08.977131] >>> [1560.032] Remove node 172.31.17.44, CMD: ssh -q ubuntu@172.31.17.44 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:11:08.978366] >>> [1560.033] next_event: no-op at 1620000
[2022-11-28 10:12:09.005536] >>> [1620.060] nnodes: 12, no morph
[2022-11-28 10:12:09.005598] >>> [1620.060] next_event: remove at 1680000
[2022-11-28 10:12:38.959265] >>> [1650.014]      node to be remove: ['172.31.26.140']
[2022-11-28 10:12:38.959817] >>> [1650.014] nnodes: 11, message: preempt 1650.014165878296
[2022-11-28 10:12:38.959856]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143']
[2022-11-28 10:13:08.975263] >>> [1680.030] Remove node 172.31.26.140, CMD: ssh -q ubuntu@172.31.26.140 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:13:08.976921] >>> [1680.031] next_event: no-op at 1740000
[2022-11-28 10:14:09.003252] >>> [1740.058] nnodes: 11, no morph
[2022-11-28 10:14:09.003306] >>> [1740.058] next_event: no-op at 1800000
[2022-11-28 10:15:09.005488] >>> [1800.060] nnodes: 11, no morph
[2022-11-28 10:15:09.005544] >>> [1800.060] next_event: add at 1860000
[2022-11-28 10:16:09.005507] >>> [1860.060]      node to be add: ['172.31.31.40']
[2022-11-28 10:16:09.006019] >>> [1860.061] nnodes: 12, message: morph
[2022-11-28 10:16:09.006062]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40']
[2022-11-28 10:16:09.006088] >>> [1860.061] next_event: add at 1920000
[2022-11-28 10:17:09.005493] >>> [1920.060]      node to be add: ['172.31.16.100']
[2022-11-28 10:17:09.005937] >>> [1920.060] nnodes: 13, message: morph
[2022-11-28 10:17:09.005972]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.18.152', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100']
[2022-11-28 10:17:09.005992] >>> [1920.061] next_event: no-op at 1980000
[2022-11-28 10:18:09.005490] >>> [1980.060] nnodes: 13, no morph
[2022-11-28 10:18:09.005544] >>> [1980.060] next_event: remove at 2040000
[2022-11-28 10:18:38.959247] >>> [2010.014]      node to be remove: ['172.31.18.152']
[2022-11-28 10:18:38.959677] >>> [2010.014] nnodes: 12, message: preempt 2010.0140326023102
[2022-11-28 10:18:38.959710]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100']
[2022-11-28 10:19:08.975548] >>> [2040.030] Remove node 172.31.18.152, CMD: ssh -q ubuntu@172.31.18.152 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:19:08.977257] >>> [2040.032] next_event: add at 2100000
[2022-11-28 10:20:09.005540] >>> [2100.060]      node to be add: ['172.31.19.171']
[2022-11-28 10:20:09.006045] >>> [2100.061] nnodes: 13, message: morph
[2022-11-28 10:20:09.006084]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171']
[2022-11-28 10:20:09.006102] >>> [2100.061] next_event: no-op at 2160000
[2022-11-28 10:21:08.999249] >>> [2160.054] nnodes: 13, no morph
[2022-11-28 10:21:08.999301] >>> [2160.054] next_event: no-op at 2220000
[2022-11-28 10:22:09.005484] >>> [2220.060] nnodes: 13, no morph
[2022-11-28 10:22:09.005540] >>> [2220.060] next_event: no-op at 2280000
[2022-11-28 10:23:09.005483] >>> [2280.060] nnodes: 13, no morph
[2022-11-28 10:23:09.005537] >>> [2280.060] next_event: add at 2340000
[2022-11-28 10:24:08.950490] >>> [2340.005]      node to be add: ['172.31.24.208']
[2022-11-28 10:24:08.950937] >>> [2340.005] nnodes: 14, message: morph
[2022-11-28 10:24:08.950970]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208']
[2022-11-28 10:24:08.950990] >>> [2340.006] next_event: no-op at 2400000
[2022-11-28 10:25:08.953582] >>> [2400.008] nnodes: 14, no morph
[2022-11-28 10:25:08.953641] >>> [2400.008] next_event: add at 2460000
[2022-11-28 10:26:09.005541] >>> [2460.060]      node to be add: ['172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-28 10:26:09.006003] >>> [2460.061] nnodes: 18, message: morph
[2022-11-28 10:26:09.006043]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133']
[2022-11-28 10:26:09.006068] >>> [2460.061] next_event: no-op at 2520000
[2022-11-28 10:27:09.005486] >>> [2520.060] nnodes: 18, no morph
[2022-11-28 10:27:09.005551] >>> [2520.060] next_event: no-op at 2580000
[2022-11-28 10:28:08.995268] >>> [2580.050] nnodes: 18, no morph
[2022-11-28 10:28:08.995323] >>> [2580.050] next_event: add at 2640000
[2022-11-28 10:29:09.005513] >>> [2640.060]      node to be add: ['172.31.22.229']
[2022-11-28 10:29:09.005964] >>> [2640.060] nnodes: 19, message: morph
[2022-11-28 10:29:09.006002]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.27.216', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.28.143', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.16.5', '172.31.30.133', '172.31.22.229']
[2022-11-28 10:29:09.006032] >>> [2640.061] next_event: no-op at 2700000
[2022-11-28 10:30:09.005503] >>> [2700.060] nnodes: 19, no morph
[2022-11-28 10:30:09.005556] >>> [2700.060] next_event: no-op at 2760000
[2022-11-28 10:31:08.955058] >>> [2760.010] nnodes: 19, no morph
[2022-11-28 10:31:08.955123] >>> [2760.010] next_event: remove at 2820000
[2022-11-28 10:31:38.959272] >>> [2790.014]      node to be remove: ['172.31.16.5', '172.31.28.143', '172.31.27.216']
[2022-11-28 10:31:38.959755] >>> [2790.014] nnodes: 16, message: preempt 2790.01411485672
[2022-11-28 10:31:38.959794]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.45', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229']
[2022-11-28 10:32:08.975543] >>> [2820.030] Remove node 172.31.16.5, CMD: ssh -q ubuntu@172.31.16.5 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:32:08.977108] >>> [2820.032] Remove node 172.31.28.143, CMD: ssh -q ubuntu@172.31.28.143 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:32:08.978468] >>> [2820.033] Remove node 172.31.27.216, CMD: ssh -q ubuntu@172.31.27.216 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:32:08.979785] >>> [2820.034] next_event: no-op at 2880000
[2022-11-28 10:33:09.005507] >>> [2880.060] nnodes: 16, no morph
[2022-11-28 10:33:09.005566] >>> [2880.060] next_event: remove at 2940000
[2022-11-28 10:33:38.975252] >>> [2910.030]      node to be remove: ['172.31.21.45']
[2022-11-28 10:33:38.975801] >>> [2910.030] nnodes: 15, message: preempt 2910.030133485794
[2022-11-28 10:33:38.975846]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229']
[2022-11-28 10:34:08.952307] >>> [2940.007] Remove node 172.31.21.45, CMD: ssh -q ubuntu@172.31.21.45 bash /home/ubuntu/varuna/aws/remove_node.sh
[2022-11-28 10:34:08.953909] >>> [2940.008] next_event: no-op at 3000000
[2022-11-28 10:35:09.005540] >>> [3000.060] nnodes: 15, no morph
[2022-11-28 10:35:09.005597] >>> [3000.060] next_event: no-op at 3060000
[2022-11-28 10:36:09.005486] >>> [3060.060] nnodes: 15, no morph
[2022-11-28 10:36:09.005540] >>> [3060.060] next_event: no-op at 3120000
[2022-11-28 10:37:09.005482] >>> [3120.060] nnodes: 15, no morph
[2022-11-28 10:37:09.005536] >>> [3120.060] next_event: no-op at 3180000
[2022-11-28 10:38:09.005494] >>> [3180.060] nnodes: 15, no morph
[2022-11-28 10:38:09.005563] >>> [3180.060] next_event: no-op at 3240000
[2022-11-28 10:39:09.001896] >>> [3240.056] nnodes: 15, no morph
[2022-11-28 10:39:09.001950] >>> [3240.056] next_event: no-op at 3300000
[2022-11-28 10:40:09.005487] >>> [3300.060] nnodes: 15, no morph
[2022-11-28 10:40:09.005540] >>> [3300.060] next_event: no-op at 3360000
[2022-11-28 10:41:09.005487] >>> [3360.060] nnodes: 15, no morph
[2022-11-28 10:41:09.005540] >>> [3360.060] next_event: add at 3420000
[2022-11-28 10:42:09.005505] >>> [3420.060]      node to be add: ['172.31.21.137', '172.31.30.99']
[2022-11-28 10:42:09.006004] >>> [3420.061] nnodes: 17, message: morph
[2022-11-28 10:42:09.006043]                remain nodes: ['172.31.28.108', '172.31.20.223', '172.31.22.165', '172.31.28.236', '172.31.21.109', '172.31.21.254', '172.31.23.137', '172.31.31.40', '172.31.16.100', '172.31.19.171', '172.31.24.208', '172.31.19.112', '172.31.24.191', '172.31.30.133', '172.31.22.229', '172.31.21.137', '172.31.30.99']
[2022-11-28 10:42:09.006060] >>> [3420.061] next_event: no-op at 3480000
[2022-11-28 10:43:09.005487] >>> [3480.060] nnodes: 17, no morph
[2022-11-28 10:43:09.005544] >>> [3480.060] next_event: no-op at 3540000
[2022-11-28 10:44:09.003246] >>> [3540.058] nnodes: 17, no morph
[2022-11-28 10:45:09.005823] >>> [3600.060] nnodes: 17, message: preempt 3600.0601484775543
[2022-11-28 10:45:09.005866]           Finally kill all
ssh: connect to host 172.31.28.16 port 22: Connection timed out
ssh: connect to host 172.31.28.16 port 22: No route to host
ssh: connect to host 172.31.28.16 port 22: No route to host
ssh: connect to host 172.31.28.16 port 22: No route to host
ssh: connect to host 172.31.17.209 port 22: Connection timed out
ssh: connect to host 172.31.17.209 port 22: No route to host
ssh: connect to host 172.31.17.209 port 22: No route to host
ssh: connect to host 172.31.17.209 port 22: No route to host
